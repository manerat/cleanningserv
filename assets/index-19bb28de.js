import{r as i,j as r,a as l}from"./index-7c8debbd.js";import{S as W,D as Y,d as B,T as w}from"./index-fcf321fc.js";import{A as E}from"./API-9c56ebf9.js";import{F as c,D as N,B as O}from"./index-04b6eb93.js";import{R as x,C as d,a as m,T as u,S as T}from"./index-a303e74a.js";const Q=()=>{const[p]=c.useForm(),[D,h]=i.useState([]),[I,P]=i.useState([]),[o,A]=i.useState([]),[_,R]=i.useState("1"),[$,k]=i.useState(0),[V,F]=i.useState();i.useState("1"),i.useEffect(()=>{E.get("getData").then(e=>{var g,b,C,S,j,v;const t=(b=(g=e==null?void 0:e.data)==null?void 0:g.data)==null?void 0:b.filter(s=>!s._id),a=t==null?void 0:t.map(s=>({label:s.service,value:s.id,type:s.order_type})),n=(S=(C=e==null?void 0:e.data)==null?void 0:C.masterArea)==null?void 0:S.map(s=>({label:s.area_size,value:s.id})),M=(v=(j=e==null?void 0:e.data)==null?void 0:j.masterPromotion)==null?void 0:v.map(s=>({label:s.name_promotion,value:s.id}));P(n),A(t),h(a),F(M)})},[]);const z=(e,t)=>{const a=o==null?void 0:o.filter(n=>n.area_size.includes(t.label)).map(n=>({label:n.service,value:n.id,type:n.order_type}));h(a)},H=e=>{const t=o==null?void 0:o.find(a=>a.id===e);p.setFieldValue("price",t==null?void 0:t.price),k(t==null?void 0:t.price)},[y,f]=i.useState("ครั้งเดียว");return r(x,{style:{display:"flex",alignItems:"center",justifyItems:"center",justifyContent:"center",minHeight:"100vh"},children:r(d,{xl:8,md:12,children:l(m,{bordered:!0,style:{minHeight:"50em"},children:[l("div",{style:{display:"flex",justifyItems:"center",justifyContent:"center",flexDirection:"column",width:"100%"},children:[r(u.Paragraph,{style:{textAlign:"center",fontSize:"2em"},children:"ค้นหาแม่บ้าน"}),r(u.Paragraph,{style:{textAlign:"center"},children:"(เลื่อนลงเพื่อดูขอบเขตการให้บริการ)"})]}),r(u.Paragraph,{style:{fontWeight:"bold"},children:"เลือกบริการ"}),l(x,{gutter:[2,2],style:{marginBottom:"2em"},children:[r(d,{span:12,children:r(m,{onClick:()=>f("ครั้งเดียว"),className:`${y===1&&"active"} select-promotion`,style:{display:"flex",justifyContent:"center",justifyItems:"center",alignItems:"center"},children:"ทำความสะอาด"})}),r(d,{span:12,children:r(m,{onClick:()=>f("จองแบบหลายวัน"),className:`${y===2&&"active"} select-promotion`,style:{display:"flex",justifyContent:"center",justifyItems:"center",alignItems:"center"},children:"รีดผ้า"})})]}),l(c,{layout:"vertical",size:"large",form:p,children:[r(c.Item,{label:"กรุณาเลือกประเภทที่พัก เพื่อให้เราช่วยคุณประเมินระยะเวลาทำความสะอาด และค่าบริการ",style:{fontWeight:"bold"},children:r(T,{options:I,onChange:z})}),r(c.Item,{label:"บริการ (ชั่วโมง)",style:{fontWeight:"bold"},children:r(T,{options:D,onChange:H})}),_==="1"&&r(c.Item,{label:"คุณต้องการใช้บริการนี้เมื่อไหร่",style:{fontWeight:"bold"},children:l(W,{children:[r(Y,{format:"DD-MM-YYYY",disabledDate:e=>e&&e<B().subtract(1,"day").endOf("day")}),r(w,{disabledTime:e=>({disabledHours:()=>{const t=[];for(let a=0;a<e.hour();a+=1)t.push(a);return t},disabledMinutes:t=>{const a=[];if(t===e.hour())for(let n=0;n<e.minute();n+=1)a.push(n);return a}})})]})}),r(N,{}),r(O,{type:"primary",block:!0,children:"ค้นหาผู้ใช้บริการ"})]})]})})})};export{Q as default};
